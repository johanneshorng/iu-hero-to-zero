<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"><h:head>
    <title>ZeroToHero - CO2 Emissionen</title>
    <h:outputStylesheet name="src/css/core.css" />
    <h:outputStylesheet name="src/css/tailwind.css"/>
</h:head>
<h:body>

<div id="main">

        <div id="topnav" class="w-full bb-slate-100 py-5 flex flex-row">

            <div class="flex-1/2">

                <p:link value="Startseite" icon="pi pi-home" href="#" styleClass="rounded-2xl bg-slate-100 text-gray-700 py-3 px-10" />
                <p:link value="Emissionen hinzufügen" rendered="#{userAccountBean.accountLoggedIn}" href="./create.xhtml" styleClass="py-3 px-10 rounded-2xl hover:bg-slate-100 bg-white"/>

            </div>

            <div class="navigation-end">

                <h:outputText value="Angemeldet als, #{userAccountBean.accountName}" rendered="#{userAccountBean.accountLoggedIn}" />
                <h:form>
                    <p:commandButton rendered="#{userAccountBean.accountLoggedIn}" value="Logout" action="#{userAccountBean.logout}"/>
                </h:form>

                <p:link href="./login.xhtml" rendered="#{not userAccountBean.accountLoggedIn}" icon="pi pi-directions" value="Login"/>
            </div>

        </div>

        <div class="container">
            <h1>Willkommen im neuen Zero To Hero Dashboard</h1>
            <h2>Diese Applikation bietet die Möglichkeit CO2-Emissionen aller Länder weltweit anzusehen!</h2>
        </div>

        <div class="container flex-col">

            <h:form>

                <p:selectOneListbox
                        id="advanced"
                        value="#{carbonDataBean.selectedCountryName}"
                        var="c"
                        fileMatchMode="contains"
                        filter="true">
                    <f:selectItems
                            value="#{carbonDataBean.countries}"
                            var="country"
                            itemLabel="#{country}"
                            itemValue="#{country}"
                    />
                    <p:column>
                        <h:outputText value="#{c}" />
                    </p:column>
                </p:selectOneListbox>
                <p:commandButton value="Daten laden" action="#{carbonDataBean.loadCountry}" update="resultsList" />

                <p:panel id="resultsList">
                    <p:panelGrid>
                        <p:row>
                            <p:column style="width: 33%;">
                                <strong>Land:</strong><br />
                                <h:outputText value="#{carbonDataBean.selectedCountry.countryName}" />
                            </p:column>
                            <p:column style="width: 33%;">
                                <strong>CO₂-Emissionen (kt):</strong><br />
                                <h:outputText value="#{carbonDataBean.selectedCountry.carbonEmission}" />
                            </p:column>
                            <p:column style="width: 33%;">
                                <strong>Einwohnerzahl:</strong><br />
                                <h:outputText value="#{carbonDataBean.selectedCountry.countryPopulation}" />
                            </p:column>
                        </p:row>
                        <p:row>
                            <p:column colspan="3">
                                <strong>CO₂ pro Einwohner (t):</strong>
                                <h:outputText value="#{carbonDataBean.selectedCountry.carbonEmissionPerInhabitant}" />
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                </p:panel>

            </h:form>
        </div>

    </div>


</h:body>
</html>
