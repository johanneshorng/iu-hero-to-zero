<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
    <title>ZeroToHero - CO2 Emissionen</title>
    <h:outputStylesheet name="src/css/tailwind.css" />
</h:head>
<h:body styleClass="bg-gray-100 flex px-0 py-0 m-0 flex-col flex-wrap gap-4">
    <ui:include src="/components/navigation.xhtml" />

    <div class="relative mx-auto w-1/2 rounded-xl border border-slate-200 bg-white shadow-lg h-fit mt-4 mb-4">
        <div class="flex grow items-center px-5 py-5 sm:px-5 sm:py-5">
            <div class="grow gap-4">
                <p:linkButton
                    href="./create.xhtml"
                    value="Datensatz erstellen"
                    styleClass="mb-4" />

                <h:form id="emissionsForm">
                    <p:dataTable id="carbonTable"
                                 value="#{emissionsIndex.results}"
                                 var="c"
                                 paginator="true"
                                 rows="25"
                                 rowsPerPageTemplate="25,50"
                                 paginatorPosition="bottom"
                                 responsiveLayout="stack">
                        <p:column headerText="ID" sortBy="#{c.dataId}">
                            <h:outputText value="#{c.dataId}" />
                        </p:column>
                        <p:column headerText="Jahr" sortBy="#{c.emissionYear}">
                            <h:outputText value="#{c.emissionYear}" />
                        </p:column>
                        <p:column headerText="Land" sortBy="#{c.countryName}">
                            <h:outputText value="#{c.countryName}" />
                        </p:column>
                        <p:column headerText="CO2-Emission" sortBy="#{c.carbonEmission}">
                            <h:outputText value="#{c.carbonEmission}" />
                        </p:column>
                        <p:column headerText="Optionen">
                            <p:linkButton
                                    href="./edit.xhtml?faces-redirect=true&amp;id=#{c.dataId}"
                                    title="Bearbeiten" />
                        </p:column>
                    </p:dataTable>
                </h:form>
            </div>
        </div>
    </div>

</h:body>
</html>