<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
<h:head>
   <title>ZeroToHero - CO2 Emissionen</title>
   <h:outputStylesheet name="src/css/core.css" />
</h:head>
<h:body>

   <div id="main">

      <div id="navigation">

         <div class="navigation-start">
            <p:link value="Startseite" icon="pi pi-home" href="#./index.xhtml" />
            <p:link value="Emissionen hinzuf체gen" rendered="#{userAccountBean.accountLoggedIn}" href="#" styleClass="active" />
         </div>

         <div class="navigation-end">

            <h:outputText value="Angemeldet als, #{userAccountBean.accountName}" rendered="#{userAccountBean.accountLoggedIn}" />
            <h:form>
               <p:commandButton rendered="#{userAccountBean.accountLoggedIn}" value="Logout" action="#{userAccountBean.logout}"/>
            </h:form>


            <p:link href="./login.xhtml" rendered="#{not userAccountBean.accountLoggedIn}" icon="pi pi-directions" value="Login"/>
         </div>

      </div>

      <div class="container">
         <h:form rendered="#{userAccountBean.accountLoggedIn}">
            <p:messages globalOnly="false" showDetail="true" />
            <h5 class="mt-0">Neue Emissionsdaten hinzuf체gen</h5>
            <p:messages id="messages" showDetail="true" closable="true" autoUpdate="true" />
            <div class="field grid">
               <h:outputLabel for="emissionYear" value="Emissionsjahr" />
               <div class="col">
                  <p:datePicker id="emissionYear" value="#{carbonDataBean.emissionYear}" dateFormat="yyyy" pattern="yyyy" yearNavigator="true" yearRange="1900:2999" />
               </div>
            </div>
            <div class="field grid">
               <h:outputLabel for="emissionCountry" value="Land w채hlen" />
               <div class="col">
                  <p:selectOneMenu
                          id="emissionCountry"
                          value="#{carbonDataBean.selectedCountryName}"
                          var="c"
                          fileMatchMode="contains"
                          filter="true">
                     <f:selectItems
                             value="#{carbonDataBean.countries}"
                             var="country"
                             itemLabel="#{country}"
                             itemValue="#{country}"
                     />
                     <p:column>
                        <h:outputText value="#{c}" />
                     </p:column>
                  </p:selectOneMenu>
               </div>
            </div>
            <div class="field grid">
               <h:outputLabel for="carbonEmission" value="CO2 Emissionen in Kilotonnen" />
               <div class="col">
                  <h:inputText value="#{carbonDataBean.carbonEmission}" id="carbonEmission" />
               </div>
            </div>
            <div class="field grid">
               <h:outputLabel for="countryPopulation" value="Einwohnerzahl" />
               <div class="col">
                  <h:inputText value="#{carbonDataBean.countryPopulation}" id="countryPopulation" />
               </div>
            </div>
            <h:inputText value="#{userAccountBean.account}"
            <p:commandButton value="Emissionsdaten hinzuf체gen" action="#{carbonDataBean.save()}" update="@form" />
         </h:form>
      </div>
   </div>
</h:body>
</html>